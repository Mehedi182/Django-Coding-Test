{"remainingRequest":"/home/mehedi/Personal/examtest/Mediusware/final/Django-Coding-Test/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mehedi/Personal/examtest/Mediusware/final/Django-Coding-Test/src/templates/assets/js/components/product/CreateProduct.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mehedi/Personal/examtest/Mediusware/final/Django-Coding-Test/src/templates/assets/js/components/product/CreateProduct.vue","mtime":1687871978790},{"path":"/home/mehedi/Personal/examtest/Mediusware/final/Django-Coding-Test/node_modules/cache-loader/dist/cjs.js","mtime":1654322295579},{"path":"/home/mehedi/Personal/examtest/Mediusware/final/Django-Coding-Test/node_modules/babel-loader/lib/index.js","mtime":1687428374275},{"path":"/home/mehedi/Personal/examtest/Mediusware/final/Django-Coding-Test/node_modules/cache-loader/dist/cjs.js","mtime":1654322295579},{"path":"/home/mehedi/Personal/examtest/Mediusware/final/Django-Coding-Test/node_modules/vue-loader/lib/index.js","mtime":1687428380969}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgdnVlMkRyb3B6b25lIGZyb20gInZ1ZTItZHJvcHpvbmUiOw0KaW1wb3J0ICJ2dWUyLWRyb3B6b25lL2Rpc3QvdnVlMkRyb3B6b25lLm1pbi5jc3MiOw0KaW1wb3J0IElucHV0VGFnIGZyb20gInZ1ZS1pbnB1dC10YWciOw0KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7DQogICAgdnVlRHJvcHpvbmU6IHZ1ZTJEcm9wem9uZSwNCiAgICBJbnB1dFRhZywNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICB2YXJpYW50czogew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICB9LA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBwcm9kdWN0X25hbWU6ICIiLA0KICAgICAgcHJvZHVjdF9za3U6ICIiLA0KICAgICAgZGVzY3JpcHRpb246ICIiLA0KICAgICAgaW1hZ2VzOiBbXSwNCiAgICAgIHByb2R1Y3RfdmFyaWFudDogWw0KICAgICAgICB7DQogICAgICAgICAgb3B0aW9uOiB0aGlzLnZhcmlhbnRzWzBdLmlkLA0KICAgICAgICAgIHRhZ3M6IFtdLA0KICAgICAgICB9LA0KICAgICAgXSwNCiAgICAgIHByb2R1Y3RfdmFyaWFudF9wcmljZXM6IFtdLA0KICAgICAgZHJvcHpvbmVPcHRpb25zOiB7DQogICAgICAgIHVybDogImh0dHBzOi8vaHR0cGJpbi5vcmcvcG9zdCIsDQogICAgICAgIHRodW1ibmFpbFdpZHRoOiAxNTAsDQogICAgICAgIG1heEZpbGVzaXplOiAwLjUsDQogICAgICAgIGhlYWRlcnM6IHsgIk15LUF3ZXNvbWUtSGVhZGVyIjogImhlYWRlciB2YWx1ZSIgfSwNCiAgICAgIH0sDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vIGl0IHdpbGwgcHVzaCBhIG5ldyBvYmplY3QgaW50byBwcm9kdWN0IHZhcmlhbnQNCiAgICBuZXdWYXJpYW50KCkgew0KICAgICAgbGV0IGFsbF92YXJpYW50cyA9IHRoaXMudmFyaWFudHMubWFwKChlbCkgPT4gZWwuaWQpOw0KICAgICAgbGV0IHNlbGVjdGVkX3ZhcmlhbnRzID0gdGhpcy5wcm9kdWN0X3ZhcmlhbnQubWFwKChlbCkgPT4gZWwub3B0aW9uKTsNCiAgICAgIGxldCBhdmFpbGFibGVfdmFyaWFudHMgPSBhbGxfdmFyaWFudHMuZmlsdGVyKA0KICAgICAgICAoZW50cnkxKSA9PiAhc2VsZWN0ZWRfdmFyaWFudHMuc29tZSgoZW50cnkyKSA9PiBlbnRyeTEgPT0gZW50cnkyKQ0KICAgICAgKTsNCiAgICAgIC8vIGNvbnNvbGUubG9nKGF2YWlsYWJsZV92YXJpYW50cykNCg0KICAgICAgdGhpcy5wcm9kdWN0X3ZhcmlhbnQucHVzaCh7DQogICAgICAgIG9wdGlvbjogYXZhaWxhYmxlX3ZhcmlhbnRzWzBdLA0KICAgICAgICB0YWdzOiBbXSwNCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICAvLyBjaGVjayB0aGUgdmFyaWFudCBhbmQgcmVuZGVyIGFsbCB0aGUgY29tYmluYXRpb24NCiAgICBjaGVja1ZhcmlhbnQoKSB7DQogICAgICBsZXQgdGFncyA9IFtdOw0KICAgICAgdGhpcy5wcm9kdWN0X3ZhcmlhbnRfcHJpY2VzID0gW107DQogICAgICB0aGlzLnByb2R1Y3RfdmFyaWFudC5maWx0ZXIoKGl0ZW0pID0+IHsNCiAgICAgICAgdGFncy5wdXNoKGl0ZW0udGFncyk7DQogICAgICB9KTsNCg0KICAgICAgdGhpcy5nZXRDb21ibih0YWdzKS5mb3JFYWNoKChpdGVtKSA9PiB7DQogICAgICAgIHRoaXMucHJvZHVjdF92YXJpYW50X3ByaWNlcy5wdXNoKHsNCiAgICAgICAgICB0aXRsZTogaXRlbSwNCiAgICAgICAgICBwcmljZTogMCwNCiAgICAgICAgICBzdG9jazogMCwNCiAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICB9LA0KDQogICAgLy8gY29tYmluYXRpb24gYWxnb3JpdGhtDQogICAgZ2V0Q29tYm4oYXJyLCBwcmUpIHsNCiAgICAgIHByZSA9IHByZSB8fCAiIjsNCiAgICAgIGlmICghYXJyLmxlbmd0aCkgew0KICAgICAgICByZXR1cm4gcHJlOw0KICAgICAgfQ0KICAgICAgbGV0IHNlbGYgPSB0aGlzOw0KICAgICAgbGV0IGFucyA9IGFyclswXS5yZWR1Y2UoZnVuY3Rpb24gKGFucywgdmFsdWUpIHsNCiAgICAgICAgcmV0dXJuIGFucy5jb25jYXQoc2VsZi5nZXRDb21ibihhcnIuc2xpY2UoMSksIHByZSArIHZhbHVlICsgIi8iKSk7DQogICAgICB9LCBbXSk7DQogICAgICByZXR1cm4gYW5zOw0KICAgIH0sDQoNCiAgICAgaGFuZGxlRHJvcHpvbmVTdWNjZXNzKGZpbGUsIHJlc3BvbnNlKSB7DQogICAgICBjb25zb2xlLmxvZyhmaWxlLCByZXNwb25zZSkNCiAgICAgIHRoaXMuaW1hZ2VzLnB1c2goew0KICAgICAgICBuYW1lOiBmaWxlLm5hbWUsDQogICAgICAgIHVybDogcmVzcG9uc2UudXJsLA0KICAgICAgfSk7DQogICAgfSwNCiAgICAvLyBzdG9yZSBwcm9kdWN0IGludG8gZGF0YWJhc2UNCiAgICBzYXZlUHJvZHVjdCgpIHsNCiAgICAgIGxldCBwcm9kdWN0ID0gew0KICAgICAgICB0aXRsZTogdGhpcy5wcm9kdWN0X25hbWUsDQogICAgICAgIHNrdTogdGhpcy5wcm9kdWN0X3NrdSwNCiAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sDQogICAgICAgIHByb2R1Y3RfaW1hZ2U6IHRoaXMuaW1hZ2VzLA0KICAgICAgICBwcm9kdWN0X3ZhcmlhbnQ6IHRoaXMucHJvZHVjdF92YXJpYW50LA0KICAgICAgICBwcm9kdWN0X3ZhcmlhbnRfcHJpY2VzOiB0aGlzLnByb2R1Y3RfdmFyaWFudF9wcmljZXMsDQogICAgICB9Ow0KDQogICAgICBheGlvcw0KICAgICAgICAucG9zdCgiL3Byb2R1Y3QvY3JlYXRlLyIsIHByb2R1Y3QpDQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOw0KICAgICAgICB9KTsNCg0KICAgICAgY29uc29sZS5sb2cocHJvZHVjdCk7DQogICAgfSwNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICBjb25zb2xlLmxvZygiQ29tcG9uZW50IG1vdW50ZWQuIik7DQogIH0sDQp9Ow0K"},{"version":3,"sources":["CreateProduct.vue"],"names":[],"mappings":";AAwJA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreateProduct.vue","sourceRoot":"src/templates/assets/js/components/product","sourcesContent":["<template>\r\n  <section>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6\">\r\n        <div class=\"card shadow mb-4\">\r\n          <div class=\"card-body\">\r\n            <div class=\"form-group\">\r\n              <label for=\"\">Product Name</label>\r\n              <input\r\n                type=\"text\"\r\n                v-model=\"product_name\"\r\n                placeholder=\"Product Name\"\r\n                class=\"form-control\"\r\n              />\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"\">Product SKU</label>\r\n              <input\r\n                type=\"text\"\r\n                v-model=\"product_sku\"\r\n                placeholder=\"Product Name\"\r\n                class=\"form-control\"\r\n              />\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"\">Description</label>\r\n              <textarea\r\n                v-model=\"description\"\r\n                id=\"\"\r\n                cols=\"30\"\r\n                rows=\"4\"\r\n                class=\"form-control\"\r\n              ></textarea>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"card shadow mb-4\">\r\n          <div\r\n            class=\"card-header py-3 d-flex flex-row align-items-center justify-content-between\"\r\n          >\r\n            <h6 class=\"m-0 font-weight-bold text-primary\">Media</h6>\r\n          </div>\r\n          <div class=\"card-body border\">\r\n            <vue-dropzone\r\n              ref=\"myVueDropzone\"\r\n              id=\"dropzone\"\r\n              :options=\"dropzoneOptions\"\r\n              vdropzone-success=\"handleDropzoneSuccess\"\r\n            ></vue-dropzone>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-md-6\">\r\n        <div class=\"card shadow mb-4\">\r\n          <div\r\n            class=\"card-header py-3 d-flex flex-row align-items-center justify-content-between\"\r\n          >\r\n            <h6 class=\"m-0 font-weight-bold text-primary\">Variants</h6>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div class=\"row\" v-for=\"(item, index) in product_variant\">\r\n              <div class=\"col-md-4\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"\">Option</label>\r\n                  <select v-model=\"item.option\" class=\"form-control\">\r\n                    <option v-for=\"variant in variants\" :value=\"variant.id\">\r\n                      {{ variant.title }}\r\n                    </option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-md-8\">\r\n                <div class=\"form-group\">\r\n                  <label\r\n                    v-if=\"product_variant.length != 1\"\r\n                    @click=\"\r\n                      product_variant.splice(index, 1);\r\n                      checkVariant;\r\n                    \"\r\n                    class=\"float-right text-primary\"\r\n                    style=\"cursor: pointer\"\r\n                    >Remove</label\r\n                  >\r\n                  <label v-else for=\"\">.</label>\r\n                  <input-tag\r\n                    v-model=\"item.tags\"\r\n                    @input=\"checkVariant\"\r\n                    class=\"form-control\"\r\n                  ></input-tag>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"card-footer\"\r\n            v-if=\"\r\n              product_variant.length < variants.length &&\r\n              product_variant.length < 3\r\n            \"\r\n          >\r\n            <button @click=\"newVariant\" class=\"btn btn-primary\">\r\n              Add another option\r\n            </button>\r\n          </div>\r\n\r\n          <div class=\"card-header text-uppercase\">Preview</div>\r\n          <div class=\"card-body\">\r\n            <div class=\"table-responsive\">\r\n              <table class=\"table\">\r\n                <thead>\r\n                  <tr>\r\n                    <td>Variant</td>\r\n                    <td>Price</td>\r\n                    <td>Stock</td>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"variant_price in product_variant_prices\">\r\n                    <td>{{ variant_price.title }}</td>\r\n                    <td>\r\n                      <input\r\n                        type=\"text\"\r\n                          class=\"form-control\"\r\n                        v-model=\"variant_price.price\"\r\n                      />\r\n                    </td>\r\n                    <td>\r\n                      <input\r\n                        type=\"text\"\r\n                        class=\"form-control\"\r\n                        v-model=\"variant_price.stock\"\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <button @click=\"saveProduct\" type=\"submit\" class=\"btn btn-lg btn-primary\">\r\n      Save\r\n    </button>\r\n    <button type=\"button\" class=\"btn btn-secondary btn-lg\">Cancel</button>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport vue2Dropzone from \"vue2-dropzone\";\r\nimport \"vue2-dropzone/dist/vue2Dropzone.min.css\";\r\nimport InputTag from \"vue-input-tag\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  components: {\r\n    vueDropzone: vue2Dropzone,\r\n    InputTag,\r\n  },\r\n  props: {\r\n    variants: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      product_name: \"\",\r\n      product_sku: \"\",\r\n      description: \"\",\r\n      images: [],\r\n      product_variant: [\r\n        {\r\n          option: this.variants[0].id,\r\n          tags: [],\r\n        },\r\n      ],\r\n      product_variant_prices: [],\r\n      dropzoneOptions: {\r\n        url: \"https://httpbin.org/post\",\r\n        thumbnailWidth: 150,\r\n        maxFilesize: 0.5,\r\n        headers: { \"My-Awesome-Header\": \"header value\" },\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    // it will push a new object into product variant\r\n    newVariant() {\r\n      let all_variants = this.variants.map((el) => el.id);\r\n      let selected_variants = this.product_variant.map((el) => el.option);\r\n      let available_variants = all_variants.filter(\r\n        (entry1) => !selected_variants.some((entry2) => entry1 == entry2)\r\n      );\r\n      // console.log(available_variants)\r\n\r\n      this.product_variant.push({\r\n        option: available_variants[0],\r\n        tags: [],\r\n      });\r\n    },\r\n\r\n    // check the variant and render all the combination\r\n    checkVariant() {\r\n      let tags = [];\r\n      this.product_variant_prices = [];\r\n      this.product_variant.filter((item) => {\r\n        tags.push(item.tags);\r\n      });\r\n\r\n      this.getCombn(tags).forEach((item) => {\r\n        this.product_variant_prices.push({\r\n          title: item,\r\n          price: 0,\r\n          stock: 0,\r\n        });\r\n      });\r\n    },\r\n\r\n    // combination algorithm\r\n    getCombn(arr, pre) {\r\n      pre = pre || \"\";\r\n      if (!arr.length) {\r\n        return pre;\r\n      }\r\n      let self = this;\r\n      let ans = arr[0].reduce(function (ans, value) {\r\n        return ans.concat(self.getCombn(arr.slice(1), pre + value + \"/\"));\r\n      }, []);\r\n      return ans;\r\n    },\r\n\r\n     handleDropzoneSuccess(file, response) {\r\n      console.log(file, response)\r\n      this.images.push({\r\n        name: file.name,\r\n        url: response.url,\r\n      });\r\n    },\r\n    // store product into database\r\n    saveProduct() {\r\n      let product = {\r\n        title: this.product_name,\r\n        sku: this.product_sku,\r\n        description: this.description,\r\n        product_image: this.images,\r\n        product_variant: this.product_variant,\r\n        product_variant_prices: this.product_variant_prices,\r\n      };\r\n\r\n      axios\r\n        .post(\"/product/create/\", product)\r\n        .then((response) => {\r\n          console.log(response.data);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n\r\n      console.log(product);\r\n    },\r\n  },\r\n  mounted() {\r\n    console.log(\"Component mounted.\");\r\n  },\r\n};\r\n</script>\r\n<!--<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js\"></script>-->\r\n"]}]}