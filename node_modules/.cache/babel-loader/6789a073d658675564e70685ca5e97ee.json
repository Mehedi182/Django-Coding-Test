{"remainingRequest":"/home/mehedi/Personal/examtest/Mediusware/final/Django-Coding-Test/node_modules/babel-loader/lib/index.js!/home/mehedi/Personal/examtest/Mediusware/final/Django-Coding-Test/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/mehedi/Personal/examtest/Mediusware/final/Django-Coding-Test/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mehedi/Personal/examtest/Mediusware/final/Django-Coding-Test/src/templates/assets/js/components/product/CreateProduct.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mehedi/Personal/examtest/Mediusware/final/Django-Coding-Test/src/templates/assets/js/components/product/CreateProduct.vue","mtime":1687871978790},{"path":"/home/mehedi/Personal/examtest/Mediusware/final/Django-Coding-Test/babel.config.js","mtime":1687774615088},{"path":"/home/mehedi/Personal/examtest/Mediusware/final/Django-Coding-Test/node_modules/cache-loader/dist/cjs.js","mtime":1654322295579},{"path":"/home/mehedi/Personal/examtest/Mediusware/final/Django-Coding-Test/node_modules/babel-loader/lib/index.js","mtime":1687428374275},{"path":"/home/mehedi/Personal/examtest/Mediusware/final/Django-Coding-Test/node_modules/cache-loader/dist/cjs.js","mtime":1654322295579},{"path":"/home/mehedi/Personal/examtest/Mediusware/final/Django-Coding-Test/node_modules/vue-loader/lib/index.js","mtime":1687428380969}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZS5qcyI7CmltcG9ydCB2dWUyRHJvcHpvbmUgZnJvbSAidnVlMi1kcm9wem9uZSI7CmltcG9ydCAidnVlMi1kcm9wem9uZS9kaXN0L3Z1ZTJEcm9wem9uZS5taW4uY3NzIjsKaW1wb3J0IElucHV0VGFnIGZyb20gInZ1ZS1pbnB1dC10YWciOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgdnVlRHJvcHpvbmU6IHZ1ZTJEcm9wem9uZSwKICAgIElucHV0VGFnCiAgfSwKICBwcm9wczogewogICAgdmFyaWFudHM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZHVjdF9uYW1lOiAiIiwKICAgICAgcHJvZHVjdF9za3U6ICIiLAogICAgICBkZXNjcmlwdGlvbjogIiIsCiAgICAgIGltYWdlczogW10sCiAgICAgIHByb2R1Y3RfdmFyaWFudDogW3sKICAgICAgICBvcHRpb246IHRoaXMudmFyaWFudHNbMF0uaWQsCiAgICAgICAgdGFnczogW10KICAgICAgfV0sCiAgICAgIHByb2R1Y3RfdmFyaWFudF9wcmljZXM6IFtdLAogICAgICBkcm9wem9uZU9wdGlvbnM6IHsKICAgICAgICB1cmw6ICJodHRwczovL2h0dHBiaW4ub3JnL3Bvc3QiLAogICAgICAgIHRodW1ibmFpbFdpZHRoOiAxNTAsCiAgICAgICAgbWF4RmlsZXNpemU6IDAuNSwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiTXktQXdlc29tZS1IZWFkZXIiOiAiaGVhZGVyIHZhbHVlIgogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIGl0IHdpbGwgcHVzaCBhIG5ldyBvYmplY3QgaW50byBwcm9kdWN0IHZhcmlhbnQKICAgIG5ld1ZhcmlhbnQoKSB7CiAgICAgIGxldCBhbGxfdmFyaWFudHMgPSB0aGlzLnZhcmlhbnRzLm1hcChlbCA9PiBlbC5pZCk7CiAgICAgIGxldCBzZWxlY3RlZF92YXJpYW50cyA9IHRoaXMucHJvZHVjdF92YXJpYW50Lm1hcChlbCA9PiBlbC5vcHRpb24pOwogICAgICBsZXQgYXZhaWxhYmxlX3ZhcmlhbnRzID0gYWxsX3ZhcmlhbnRzLmZpbHRlcihlbnRyeTEgPT4gIXNlbGVjdGVkX3ZhcmlhbnRzLnNvbWUoZW50cnkyID0+IGVudHJ5MSA9PSBlbnRyeTIpKTsKICAgICAgLy8gY29uc29sZS5sb2coYXZhaWxhYmxlX3ZhcmlhbnRzKQoKICAgICAgdGhpcy5wcm9kdWN0X3ZhcmlhbnQucHVzaCh7CiAgICAgICAgb3B0aW9uOiBhdmFpbGFibGVfdmFyaWFudHNbMF0sCiAgICAgICAgdGFnczogW10KICAgICAgfSk7CiAgICB9LAogICAgLy8gY2hlY2sgdGhlIHZhcmlhbnQgYW5kIHJlbmRlciBhbGwgdGhlIGNvbWJpbmF0aW9uCiAgICBjaGVja1ZhcmlhbnQoKSB7CiAgICAgIGxldCB0YWdzID0gW107CiAgICAgIHRoaXMucHJvZHVjdF92YXJpYW50X3ByaWNlcyA9IFtdOwogICAgICB0aGlzLnByb2R1Y3RfdmFyaWFudC5maWx0ZXIoaXRlbSA9PiB7CiAgICAgICAgdGFncy5wdXNoKGl0ZW0udGFncyk7CiAgICAgIH0pOwogICAgICB0aGlzLmdldENvbWJuKHRhZ3MpLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgdGhpcy5wcm9kdWN0X3ZhcmlhbnRfcHJpY2VzLnB1c2goewogICAgICAgICAgdGl0bGU6IGl0ZW0sCiAgICAgICAgICBwcmljZTogMCwKICAgICAgICAgIHN0b2NrOiAwCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIGNvbWJpbmF0aW9uIGFsZ29yaXRobQogICAgZ2V0Q29tYm4oYXJyLCBwcmUpIHsKICAgICAgcHJlID0gcHJlIHx8ICIiOwogICAgICBpZiAoIWFyci5sZW5ndGgpIHsKICAgICAgICByZXR1cm4gcHJlOwogICAgICB9CiAgICAgIGxldCBzZWxmID0gdGhpczsKICAgICAgbGV0IGFucyA9IGFyclswXS5yZWR1Y2UoZnVuY3Rpb24gKGFucywgdmFsdWUpIHsKICAgICAgICByZXR1cm4gYW5zLmNvbmNhdChzZWxmLmdldENvbWJuKGFyci5zbGljZSgxKSwgcHJlICsgdmFsdWUgKyAiLyIpKTsKICAgICAgfSwgW10pOwogICAgICByZXR1cm4gYW5zOwogICAgfSwKICAgIGhhbmRsZURyb3B6b25lU3VjY2VzcyhmaWxlLCByZXNwb25zZSkgewogICAgICBjb25zb2xlLmxvZyhmaWxlLCByZXNwb25zZSk7CiAgICAgIHRoaXMuaW1hZ2VzLnB1c2goewogICAgICAgIG5hbWU6IGZpbGUubmFtZSwKICAgICAgICB1cmw6IHJlc3BvbnNlLnVybAogICAgICB9KTsKICAgIH0sCiAgICAvLyBzdG9yZSBwcm9kdWN0IGludG8gZGF0YWJhc2UKICAgIHNhdmVQcm9kdWN0KCkgewogICAgICBsZXQgcHJvZHVjdCA9IHsKICAgICAgICB0aXRsZTogdGhpcy5wcm9kdWN0X25hbWUsCiAgICAgICAgc2t1OiB0aGlzLnByb2R1Y3Rfc2t1LAogICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLAogICAgICAgIHByb2R1Y3RfaW1hZ2U6IHRoaXMuaW1hZ2VzLAogICAgICAgIHByb2R1Y3RfdmFyaWFudDogdGhpcy5wcm9kdWN0X3ZhcmlhbnQsCiAgICAgICAgcHJvZHVjdF92YXJpYW50X3ByaWNlczogdGhpcy5wcm9kdWN0X3ZhcmlhbnRfcHJpY2VzCiAgICAgIH07CiAgICAgIGF4aW9zLnBvc3QoIi9wcm9kdWN0L2NyZWF0ZS8iLCBwcm9kdWN0KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKHByb2R1Y3QpOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCJDb21wb25lbnQgbW91bnRlZC4iKTsKICB9Cn07"},{"version":3,"names":["vue2Dropzone","InputTag","axios","components","vueDropzone","props","variants","type","Array","required","data","product_name","product_sku","description","images","product_variant","option","id","tags","product_variant_prices","dropzoneOptions","url","thumbnailWidth","maxFilesize","headers","methods","newVariant","all_variants","map","el","selected_variants","available_variants","filter","entry1","some","entry2","push","checkVariant","item","getCombn","forEach","title","price","stock","arr","pre","length","self","ans","reduce","value","concat","slice","handleDropzoneSuccess","file","response","console","log","name","saveProduct","product","sku","product_image","post","then","catch","error","mounted"],"sources":["src/templates/assets/js/components/product/CreateProduct.vue"],"sourcesContent":["<template>\r\n  <section>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6\">\r\n        <div class=\"card shadow mb-4\">\r\n          <div class=\"card-body\">\r\n            <div class=\"form-group\">\r\n              <label for=\"\">Product Name</label>\r\n              <input\r\n                type=\"text\"\r\n                v-model=\"product_name\"\r\n                placeholder=\"Product Name\"\r\n                class=\"form-control\"\r\n              />\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"\">Product SKU</label>\r\n              <input\r\n                type=\"text\"\r\n                v-model=\"product_sku\"\r\n                placeholder=\"Product Name\"\r\n                class=\"form-control\"\r\n              />\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"\">Description</label>\r\n              <textarea\r\n                v-model=\"description\"\r\n                id=\"\"\r\n                cols=\"30\"\r\n                rows=\"4\"\r\n                class=\"form-control\"\r\n              ></textarea>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"card shadow mb-4\">\r\n          <div\r\n            class=\"card-header py-3 d-flex flex-row align-items-center justify-content-between\"\r\n          >\r\n            <h6 class=\"m-0 font-weight-bold text-primary\">Media</h6>\r\n          </div>\r\n          <div class=\"card-body border\">\r\n            <vue-dropzone\r\n              ref=\"myVueDropzone\"\r\n              id=\"dropzone\"\r\n              :options=\"dropzoneOptions\"\r\n              vdropzone-success=\"handleDropzoneSuccess\"\r\n            ></vue-dropzone>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-md-6\">\r\n        <div class=\"card shadow mb-4\">\r\n          <div\r\n            class=\"card-header py-3 d-flex flex-row align-items-center justify-content-between\"\r\n          >\r\n            <h6 class=\"m-0 font-weight-bold text-primary\">Variants</h6>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div class=\"row\" v-for=\"(item, index) in product_variant\">\r\n              <div class=\"col-md-4\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"\">Option</label>\r\n                  <select v-model=\"item.option\" class=\"form-control\">\r\n                    <option v-for=\"variant in variants\" :value=\"variant.id\">\r\n                      {{ variant.title }}\r\n                    </option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-md-8\">\r\n                <div class=\"form-group\">\r\n                  <label\r\n                    v-if=\"product_variant.length != 1\"\r\n                    @click=\"\r\n                      product_variant.splice(index, 1);\r\n                      checkVariant;\r\n                    \"\r\n                    class=\"float-right text-primary\"\r\n                    style=\"cursor: pointer\"\r\n                    >Remove</label\r\n                  >\r\n                  <label v-else for=\"\">.</label>\r\n                  <input-tag\r\n                    v-model=\"item.tags\"\r\n                    @input=\"checkVariant\"\r\n                    class=\"form-control\"\r\n                  ></input-tag>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"card-footer\"\r\n            v-if=\"\r\n              product_variant.length < variants.length &&\r\n              product_variant.length < 3\r\n            \"\r\n          >\r\n            <button @click=\"newVariant\" class=\"btn btn-primary\">\r\n              Add another option\r\n            </button>\r\n          </div>\r\n\r\n          <div class=\"card-header text-uppercase\">Preview</div>\r\n          <div class=\"card-body\">\r\n            <div class=\"table-responsive\">\r\n              <table class=\"table\">\r\n                <thead>\r\n                  <tr>\r\n                    <td>Variant</td>\r\n                    <td>Price</td>\r\n                    <td>Stock</td>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"variant_price in product_variant_prices\">\r\n                    <td>{{ variant_price.title }}</td>\r\n                    <td>\r\n                      <input\r\n                        type=\"text\"\r\n                          class=\"form-control\"\r\n                        v-model=\"variant_price.price\"\r\n                      />\r\n                    </td>\r\n                    <td>\r\n                      <input\r\n                        type=\"text\"\r\n                        class=\"form-control\"\r\n                        v-model=\"variant_price.stock\"\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <button @click=\"saveProduct\" type=\"submit\" class=\"btn btn-lg btn-primary\">\r\n      Save\r\n    </button>\r\n    <button type=\"button\" class=\"btn btn-secondary btn-lg\">Cancel</button>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport vue2Dropzone from \"vue2-dropzone\";\r\nimport \"vue2-dropzone/dist/vue2Dropzone.min.css\";\r\nimport InputTag from \"vue-input-tag\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  components: {\r\n    vueDropzone: vue2Dropzone,\r\n    InputTag,\r\n  },\r\n  props: {\r\n    variants: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      product_name: \"\",\r\n      product_sku: \"\",\r\n      description: \"\",\r\n      images: [],\r\n      product_variant: [\r\n        {\r\n          option: this.variants[0].id,\r\n          tags: [],\r\n        },\r\n      ],\r\n      product_variant_prices: [],\r\n      dropzoneOptions: {\r\n        url: \"https://httpbin.org/post\",\r\n        thumbnailWidth: 150,\r\n        maxFilesize: 0.5,\r\n        headers: { \"My-Awesome-Header\": \"header value\" },\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    // it will push a new object into product variant\r\n    newVariant() {\r\n      let all_variants = this.variants.map((el) => el.id);\r\n      let selected_variants = this.product_variant.map((el) => el.option);\r\n      let available_variants = all_variants.filter(\r\n        (entry1) => !selected_variants.some((entry2) => entry1 == entry2)\r\n      );\r\n      // console.log(available_variants)\r\n\r\n      this.product_variant.push({\r\n        option: available_variants[0],\r\n        tags: [],\r\n      });\r\n    },\r\n\r\n    // check the variant and render all the combination\r\n    checkVariant() {\r\n      let tags = [];\r\n      this.product_variant_prices = [];\r\n      this.product_variant.filter((item) => {\r\n        tags.push(item.tags);\r\n      });\r\n\r\n      this.getCombn(tags).forEach((item) => {\r\n        this.product_variant_prices.push({\r\n          title: item,\r\n          price: 0,\r\n          stock: 0,\r\n        });\r\n      });\r\n    },\r\n\r\n    // combination algorithm\r\n    getCombn(arr, pre) {\r\n      pre = pre || \"\";\r\n      if (!arr.length) {\r\n        return pre;\r\n      }\r\n      let self = this;\r\n      let ans = arr[0].reduce(function (ans, value) {\r\n        return ans.concat(self.getCombn(arr.slice(1), pre + value + \"/\"));\r\n      }, []);\r\n      return ans;\r\n    },\r\n\r\n     handleDropzoneSuccess(file, response) {\r\n      console.log(file, response)\r\n      this.images.push({\r\n        name: file.name,\r\n        url: response.url,\r\n      });\r\n    },\r\n    // store product into database\r\n    saveProduct() {\r\n      let product = {\r\n        title: this.product_name,\r\n        sku: this.product_sku,\r\n        description: this.description,\r\n        product_image: this.images,\r\n        product_variant: this.product_variant,\r\n        product_variant_prices: this.product_variant_prices,\r\n      };\r\n\r\n      axios\r\n        .post(\"/product/create/\", product)\r\n        .then((response) => {\r\n          console.log(response.data);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n\r\n      console.log(product);\r\n    },\r\n  },\r\n  mounted() {\r\n    console.log(\"Component mounted.\");\r\n  },\r\n};\r\n</script>\r\n<!--<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js\"></script>-->\r\n"],"mappings":";;AAwJA,OAAAA,YAAA;AACA;AACA,OAAAC,QAAA;AACA,OAAAC,KAAA;AAEA;EACAC,UAAA;IACAC,WAAA,EAAAJ,YAAA;IACAC;EACA;EACAI,KAAA;IACAC,QAAA;MACAC,IAAA,EAAAC,KAAA;MACAC,QAAA;IACA;EACA;EACAC,KAAA;IACA;MACAC,YAAA;MACAC,WAAA;MACAC,WAAA;MACAC,MAAA;MACAC,eAAA,GACA;QACAC,MAAA,OAAAV,QAAA,IAAAW,EAAA;QACAC,IAAA;MACA,EACA;MACAC,sBAAA;MACAC,eAAA;QACAC,GAAA;QACAC,cAAA;QACAC,WAAA;QACAC,OAAA;UAAA;QAAA;MACA;IACA;EACA;EACAC,OAAA;IACA;IACAC,WAAA;MACA,IAAAC,YAAA,QAAArB,QAAA,CAAAsB,GAAA,CAAAC,EAAA,IAAAA,EAAA,CAAAZ,EAAA;MACA,IAAAa,iBAAA,QAAAf,eAAA,CAAAa,GAAA,CAAAC,EAAA,IAAAA,EAAA,CAAAb,MAAA;MACA,IAAAe,kBAAA,GAAAJ,YAAA,CAAAK,MAAA,CACAC,MAAA,KAAAH,iBAAA,CAAAI,IAAA,CAAAC,MAAA,IAAAF,MAAA,IAAAE,MAAA,CACA;MACA;;MAEA,KAAApB,eAAA,CAAAqB,IAAA;QACApB,MAAA,EAAAe,kBAAA;QACAb,IAAA;MACA;IACA;IAEA;IACAmB,aAAA;MACA,IAAAnB,IAAA;MACA,KAAAC,sBAAA;MACA,KAAAJ,eAAA,CAAAiB,MAAA,CAAAM,IAAA;QACApB,IAAA,CAAAkB,IAAA,CAAAE,IAAA,CAAApB,IAAA;MACA;MAEA,KAAAqB,QAAA,CAAArB,IAAA,EAAAsB,OAAA,CAAAF,IAAA;QACA,KAAAnB,sBAAA,CAAAiB,IAAA;UACAK,KAAA,EAAAH,IAAA;UACAI,KAAA;UACAC,KAAA;QACA;MACA;IACA;IAEA;IACAJ,SAAAK,GAAA,EAAAC,GAAA;MACAA,GAAA,GAAAA,GAAA;MACA,KAAAD,GAAA,CAAAE,MAAA;QACA,OAAAD,GAAA;MACA;MACA,IAAAE,IAAA;MACA,IAAAC,GAAA,GAAAJ,GAAA,IAAAK,MAAA,WAAAD,GAAA,EAAAE,KAAA;QACA,OAAAF,GAAA,CAAAG,MAAA,CAAAJ,IAAA,CAAAR,QAAA,CAAAK,GAAA,CAAAQ,KAAA,KAAAP,GAAA,GAAAK,KAAA;MACA;MACA,OAAAF,GAAA;IACA;IAEAK,sBAAAC,IAAA,EAAAC,QAAA;MACAC,OAAA,CAAAC,GAAA,CAAAH,IAAA,EAAAC,QAAA;MACA,KAAAzC,MAAA,CAAAsB,IAAA;QACAsB,IAAA,EAAAJ,IAAA,CAAAI,IAAA;QACArC,GAAA,EAAAkC,QAAA,CAAAlC;MACA;IACA;IACA;IACAsC,YAAA;MACA,IAAAC,OAAA;QACAnB,KAAA,OAAA9B,YAAA;QACAkD,GAAA,OAAAjD,WAAA;QACAC,WAAA,OAAAA,WAAA;QACAiD,aAAA,OAAAhD,MAAA;QACAC,eAAA,OAAAA,eAAA;QACAI,sBAAA,OAAAA;MACA;MAEAjB,KAAA,CACA6D,IAAA,qBAAAH,OAAA,EACAI,IAAA,CAAAT,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA,CAAA7C,IAAA;MACA,GACAuD,KAAA,CAAAC,KAAA;QACAV,OAAA,CAAAC,GAAA,CAAAS,KAAA;MACA;MAEAV,OAAA,CAAAC,GAAA,CAAAG,OAAA;IACA;EACA;EACAO,QAAA;IACAX,OAAA,CAAAC,GAAA;EACA;AACA"}]}